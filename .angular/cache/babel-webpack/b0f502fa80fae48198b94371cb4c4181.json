{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { ProductInfo } from './models/ProductInfo';\nexport class CartUtil {\n  static init() {\n    let obj = localStorage.getItem('cart');\n\n    if (obj === null) {\n      console.log('Obj is null');\n      this.setCartDetails(this.cart);\n    }\n  }\n\n  static getCartDetails() {\n    let obj = localStorage.getItem('cart');\n    return JSON.parse(obj);\n  }\n\n  static setCartDetails(cart) {\n    localStorage.setItem('cart', JSON.stringify(cart));\n    this.subject.next(this.getCartDetails());\n  }\n\n  static setCartInfor(productId, quantity) {\n    this.init();\n    let c = this.getCartDetails();\n    let filter = c.productIds.filter(p => p === p.id);\n\n    if (filter.length === 0) {\n      c.productIds.push(new ProductInfo(productId, quantity));\n      this.setCartDetails(c);\n    }\n\n    console.log('Product already added');\n  }\n\n  static removeItemFromCart(id) {\n    this.cart.productIds = this.getCartDetails().productIds.filter(p => p.id !== id);\n    this.setCartDetails(this.cart);\n  }\n\n  static deleteCartDetails() {\n    localStorage.removeItem('cart');\n  }\n\n}\nCartUtil.subject = new Subject();","map":null,"metadata":{},"sourceType":"module"}